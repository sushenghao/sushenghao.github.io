function countUp(e,t,n,r,i,s){var o=0,u=["webkit","moz","ms","o"];for(var a=0;a<u.length&&!window.requestAnimationFrame;++a)window.requestAnimationFrame=window[u[a]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[u[a]+"CancelAnimationFrame"]||window[u[a]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,t){var n=(new Date).getTime(),r=Math.max(0,16-(n-o)),i=window.setTimeout(function(){e(n+r)},r);return o=n+r,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)}),this.options=s||{useEasing:!0,useGrouping:!0,separator:",",decimal:"."},this.options.separator==""&&(this.options.useGrouping=!1),this.options.prefix==null&&(this.options.prefix=""),this.options.suffix==null&&(this.options.suffix="");var f=this;this.d=typeof e=="string"?document.getElementById(e):e,this.startVal=Number(t),this.endVal=Number(n),this.countDown=this.startVal>this.endVal?!0:!1,this.startTime=null,this.timestamp=null,this.remaining=null,this.frameVal=this.startVal,this.rAF=null,this.decimals=Math.max(0,r||0),this.dec=Math.pow(10,this.decimals),this.duration=i*1e3||2e3,this.version=function(){return"1.3.2"},this.printValue=function(e){var t=isNaN(e)?"--":f.formatNumber(e);f.d.tagName=="INPUT"?this.d.value=t:f.d.tagName=="text"?this.d.textContent=t:this.d.innerHTML=t},this.easeOutExpo=function(e,t,n,r){return n*(-Math.pow(2,-10*e/r)+1)*1024/1023+t},this.count=function(e){f.startTime===null&&(f.startTime=e),f.timestamp=e;var t=e-f.startTime;f.remaining=f.duration-t;if(f.options.useEasing)if(f.countDown){var n=f.easeOutExpo(t,0,f.startVal-f.endVal,f.duration);f.frameVal=f.startVal-n}else f.frameVal=f.easeOutExpo(t,f.startVal,f.endVal-f.startVal,f.duration);else if(f.countDown){var n=(f.startVal-f.endVal)*(t/f.duration);f.frameVal=f.startVal-n}else f.frameVal=f.startVal+(f.endVal-f.startVal)*(t/f.duration);f.countDown?f.frameVal=f.frameVal<f.endVal?f.endVal:f.frameVal:f.frameVal=f.frameVal>f.endVal?f.endVal:f.frameVal,f.frameVal=Math.round(f.frameVal*f.dec)/f.dec,f.printValue(f.frameVal),t<f.duration?f.rAF=requestAnimationFrame(f.count):f.callback!=null&&f.callback()},this.start=function(e){return f.callback=e,!isNaN(f.endVal)&&!isNaN(f.startVal)?f.rAF=requestAnimationFrame(f.count):(console.log("countUp error: startVal or endVal is not a number"),f.printValue()),!1},this.stop=function(){cancelAnimationFrame(f.rAF)},this.reset=function(){f.startTime=null,f.startVal=t,cancelAnimationFrame(f.rAF),f.printValue(f.startVal)},this.resume=function(){f.stop(),f.startTime=null,f.duration=f.remaining,f.startVal=f.frameVal,requestAnimationFrame(f.count)},this.formatNumber=function(e){e=e.toFixed(f.decimals),e+="";var t,n,r,i;t=e.split("."),n=t[0],r=t.length>1?f.options.decimal+t[1]:"",i=/(\d+)(\d{3})/;if(f.options.useGrouping)while(i.test(n))n=n.replace(i,"$1"+f.options.separator+"$2");return f.options.prefix+n+r+f.options.suffix},f.printValue(f.startVal)}jQuery.fn.pagination=function(e,t){return t=jQuery.extend({items_per_page:10,num_display_entries:10,current_page:0,num_edge_entries:0,link_to:"###",prev_text:"Prev",next_text:"Next",ellipse_text:"...",prev_show_always:!0,next_show_always:!0,load_first_page:!1,callback:function(){return!1}},t||{}),this.each(function(){function n(){return Math.ceil(e/t.items_per_page)}function r(){var e=Math.ceil(t.num_display_entries/2),r=n(),i=r-t.num_display_entries,s=o>e?Math.max(Math.min(o-e,i),0):0,u=o>e?Math.min(o+e,r):Math.min(t.num_display_entries,r);return[s,u]}function i(e,n){o=e,s();var r=t.callback(e,u);return r||(n.stopPropagation?n.stopPropagation():n.cancelBubble=!0),r}function s(){u.empty();var e=r(),s=n(),a=function(e){return function(t){return i(e,t)}},f=function(e,n){e=e<0?0:e<s?e:s-1,n=jQuery.extend({text:e+1,classes:""},n||{});if(e==o)var r=jQuery("<span class='current'>"+n.text+"</span>");else var r=jQuery("<a>"+n.text+"</a>").bind("click",a(e)).attr("href",t.link_to.replace(/__id__/,e));n.classes&&r.addClass(n.classes),u.append(r)};t.prev_text&&(o>0||t.prev_show_always)&&f(o-1,{text:t.prev_text,classes:"prev"});if(e[0]>0&&t.num_edge_entries>0){var l=Math.min(t.num_edge_entries,e[0]);for(var c=0;c<l;c++)f(c);t.num_edge_entries<e[0]&&t.ellipse_text&&jQuery("<span>"+t.ellipse_text+"</span>").appendTo(u)}for(var c=e[0];c<e[1];c++)f(c);if(e[1]<s&&t.num_edge_entries>0){s-t.num_edge_entries>e[1]&&t.ellipse_text&&jQuery("<span>"+t.ellipse_text+"</span>").appendTo(u);var h=Math.max(s-t.num_edge_entries,e[1]);for(var c=h;c<s;c++)f(c)}t.next_text&&(o<s-1||t.next_show_always)&&f(o+1,{text:t.next_text,classes:"next"})}var o=t.current_page;e=!e||e<0?1:e,t.items_per_page=!t.items_per_page||t.items_per_page<0?1:t.items_per_page;var u=jQuery(this);this.selectPage=function(e){i(e)},this.prevPage=function(){return o>0?(i(o-1),!0):!1},this.nextPage=function(){return o<n()-1?(i(o+1),!0):!1},s(),t.load_first_page&&t.callback(o,this)})},$.extend($.namespace("Baike.videoPop"),function(){function l(){return p(),f({type:"playStateChange",data:{state:"Stoped"}}),!1}function c(e,t){var n='<embed class="'+t["class"]+'" id="'+t.id+'" src="'+t.src+'" allowFullScreen="true" quality="high"  width="'+t.width+'" height="'+t.height+'" align="middle" allowScriptAccess="always" flashvars="uu='+t.uu+"&vu="+t.vu+"&auto_play=1&gpcflag=1&width="+t.width+"&height="+t.height+'" type="'+t.type+'"></embed>';e.append(n)}function h(){c(n,{id:"starVideoPlayer","class":"albumVideo",uu:s,vu:o,src:a,width:954,height:540,type:"application/x-shockwave-flash"})}function p(){var e={top:Math.ceil(u.top-$(window).scrollTop()),left:Math.ceil(u.left)};n.css({top:e.top,left:e.left})}function d(){return p(),i.show(0,function(){$(this).addClass("videoPopStatus"),setTimeout(h,400)}),!1}function v(e){s=e.uu,o=e.vu,t.attr("style","background:url("+e.pic+") no-repeat 50%"),e.meet_pic&&t.after('<a id="meet_box" href="'+e.meet_url+'" target="_blank" style="background:url('+e.meet_pic+') no-repeat 50%;display: block;width: 216px;height: 80px;margin-top: 16px;"></a>'),t.parent().show()}function m(s){t=$("#"+s.targetId);var o=t.data("url");if(!o){var f=e[s.eid];if(!f||f.sid!=s.sid||t.length==0)return;v(f)}o&&(a=o),u=t.offset();var c='<div class="videoPopWrap"><div class="videoPopBox" id="videoPopBox"><em class="videoCloseBtn" id="closeBtn"></em></div></div>';$("body").append(c),n=$("#videoPopBox"),i=n.parent(),r=$("#closeBtn"),t.click(d),r.click(l),i.click(l),t.attr("data-log",Baike.Info.ename),Baike.Log.sendShowLog([Baike.Info.ename+"-show"])}var e={7015646:{eid:"7015646",sid:"7238535",uu:"0b01f60e06",vu:"3bdd7aa075",pic:"http://p3.qhimg.com/d/inn/d6b337fc/tfboys.jpg"},5352409:{eid:"5352409",sid:"5587867",uu:"0b01f60e06",vu:"3c39c388d5",pic:"http://p1.qhimg.com/d/inn/d6b337fc/jc.jpg"},1891311:{eid:"1891311",sid:"2001167",uu:"0b01f60e06",vu:"9d6aa88049",pic:"http://p7.qhimg.com/d/inn/d6b337fc/lw.png"},5368473:{eid:"5368473",sid:"5604285",uu:"0b01f60e06",vu:"eabedc8665",pic:"http://p4.qhimg.com/d/inn/d6b337fc/tl.png"},3758580:{eid:"3758580",sid:"3948482",uu:"0b01f60e06",vu:"968997f2c3",pic:"http://p4.qhimg.com/d/inn/d6b337fc/yss.png"},1477021:{eid:"1477021",sid:"1561869",uu:"0b01f60e06",vu:"04c446eafd",pic:"http://p5.qhimg.com/d/inn/48f280f5/fhcq.png",meet_pic:"http://p0.qhimg.com/d/inn/2beee2a4/fhcq.jpg",meet_url:"http://www.360kan.com/special/wscq.html"}},t,n,r,i,s,o,u,a="http://yuntv.letv.com/bcloud.swf",f=function(e){e=$.type(e)=="string"?$.parseJSON(e):e;if(e.type=="playStateChange")switch(e.data.state){case"Playing":break;case"Stoped":i.removeClass("videoPopStatus"),setTimeout(function(){$("#starVideoPlayer").remove(),i.hide()},400);break;default:}};return{init:m}}()),$(function(){function n(){var e=Array.prototype.slice.call(arguments,0),t=$('#main-content-text a[name="'+e[0]+'"]'),n=t.length,r,i;if(n===0)return;r=t.offset().top,i=r,Baike.Tool.scrollTo(i)}var e=Baike.Info.eid,t=Baike.Info.sid;try{var r=window.location.href,i=$("#J-ext-mod-hotcate > ul > li > a");i.each(function(t,n){var i=$(n),s=i.attr("href");if(s==r)i.removeAttr("target"),i.attr("href","###");else{var o=s.split("#"),u=o[0],a=o[1],f=$('#main-content-text a[name="'+a+'"]');f.length&&u.indexOf(e)!==-1&&(f.parent().find(".title").after('<i class="anchor-icon-bg"></i>'),i.removeAttr("target"),i.attr("href","#"+a),i.addClass("js-anchor"))}}),$(".js-anchor").click(function(){var e=$(this),t=e.attr("href").split("#")[1];return n(t),!1})}catch(s){}Baike.videoPop&&Baike.videoPop.init({targetId:"videoTargetId",eid:e,sid:t})}),function(){function s(e){var t={},n;for(var r in e){t=e[r];if(t.template=="img_onebox_pic"){n=t&&t.data_arr&&t.data_arr.model_table_data;if(!n)return e;e[r].data_arr.model_table_data=o(n)}}return e}function o(e){var t,n=[];for(var r=0;r<e.length;r++)t=e[r].thumb,t&&(t.indexOf(".jpg")!=-1||t.indexOf(".png")!=-1)&&n.push({thumb:t,url:e[r].url});return n}var e=Baike.Info.entryType,t=Baike.Info.eid,n=Baike.Info.sid,r={right_high_top:$(".right_high_top"),right_top:$(".right_top"),right_bottom:$(".right_bottom"),content_bottom:$(".lemma-meaning:visible .content_bottom"),intro_button:$("#baikecard:visible .intro_button")},i=function(e,t,n){$.each(e,function(e,r){$.getTmpl(t+r.template+".html").done(function(){var e=$("#"+r.template).tmpl(r);n.append(e)})})};$.net.jsonp("mbox",Baike.Info.qUrl+"/Asyncdata/mbox"),$.net.connect("mbox",{sid:n},function(t){if(t.state==1)if(e=="disease"){var n=r.right_top;t.right_top&&i(t.right_top,"/resource/other/mbox/",n)}else for(var o in r){var u=t[o],n=r[o];u=s(u),u&&i(u,"/resource/other/mbox/",n)}})}(),$(function(){function u(){return o=$(s),o.length?$.Deferred().resolve():$.getTmpl(r).then(function(){o=$(s)})}var e=Baike.Info.eid,t=Baike.Info.sid,n={eid:e,sid:t};$.net.get("hotEntry","/Asyncdata/hotEntry");var r="/resource/other/template/hotEntry.html",i="#J-mod-ranking",s=i+"-template",o;$.net.connect("hotEntry",n,function(e){var t=e;if(t.length)return;var n=-1;u().done(function(){$(s).tmpl(t,{getClass:function(e){return e%4===1&&n++,"hot-so"+(e-4*n)}}).appendTo(i)})})}),$(function(){var e;$("#lemma-main .reference .ref-bd a,#lemma-main .reference li a").hover(function(){$a=$(this),e=setTimeout(function(){$a.find(".dianping").remove();var e="",t=new RegExp(/.*\:\/\/([^\/]*).*/g);t.test($a.attr("href"))&&(e=$a.attr("href").replace(t,"$1"),$.ajax({url:"http://dianping.360.cn/yx/search?query="+e,type:"get",dataType:"jsonp",success:function(e){if(e.shownum==undefined)return!1;var t="";e.shownum>=80?t="red":e.shownum>=35&&e.shownum<80?t="yellow":e.shownum<35&&(t="green");var n='<span class="dianping"><i class="arrow"></i>\u7f51\u7ad9\u8bc4\u4ef7\uff1a<i class="'+t+'"></i><a href="http://dianping.360.cn/impression/'+e.host+'?src=bkbz" target="_blank">'+e.shownum+"%\u597d\u8bc4</a></span>";$a.append(n),$a.css({position:"relative","padding-right":"15px"})}}))},400)},function(){clearTimeout(e),$(this).find(".dianping").remove(),$(this).css("position","static")})}),$(function(){function n(e){var t=[".card-list-box p:contains('"+e+"')[class='cardlist-name']",".basInfo span:contains('"+e+"')[class='bas-title']","#J-ext-mod-basicinfo dt:contains('"+e+"\uff1a')"],n=t.length,r=0,i="",s=null;for(;r<n;r++){s=$(t[r]);if(s[0])break;s=null}return s}function r(){var e=["\u56fd\u7c4d","\u661f\u5ea7"],t=[],r=["national_flag_data","constellation_data"];$.each(e,function(e,i){var s=n(i);s&&t.push({dom:s,dataKey:r[e]})}),t[0]&&s("http://s4.qhimg.com/static/fee339e722ad1906.js",function(){$.each(t,function(e,t){var n=t.dom.eq(0).next(),r=$.trim(n.text()),s=r&&window[t.dataKey][r];s&&(s=s.replace("/dr/90_90_/","/dr/_32_/"),i(n,s))})})}function i(e,t){var n=$('<img class="anim ico-flag"  />');n.css("opacity",0),n[0].onload=function(){$(this).css("opacity",1)},n.attr("src",t),e.prepend(n)}function s(t,n){var r=document.getElementsByTagName("head")[0],i=document.createElement("script");i.setAttribute("type","text/javascript"),i.setAttribute("src",t),r.appendChild(i),e?i.onreadystatechange=function(){(i.readyState=="loaded"||i.readyState=="complete")&&n&&n()}:i.onload=function(){n&&n()}}var e=$.browser.msie&&$.browser.version<9,t=!1;r()}),$(function(){var e=Baike.Info.weibouid||0,t="spr_wbprod_bd_360baike_weibo_t001",n='<div class="weibo_box"><iframe id="weiboshowIframe" width="100%" height="400" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=400&fansRow=2&ptype=1&speed=0&skin=5&isTitle=0&noborder=0&isWeibo=1&isFans=0&uid='+e+"&colors=d6f3f7,ffffff,666666,16a6e9,e1f9e0&dpc=1&ch="+t+'"></iframe></div>';e!==0&&$("#weiboshow").append(n),$("#weiboshowIframe").on("load",function(){$("#weiboshow").slideDown()})}),$(function(){function e(e){var n=$(e),r=!1;n.find('a[href^="/view/"],a[href^="/item/"],a[href^="/subview/"]').each(function(){var e=$(this);e.replaceWith(e.contents()),r||(t(),r=!0)})}function t(){monitor.log({eid:$INFO.eid,sid:$INFO.sid,rs:"vlink",cId:"_vlink_",c:"_vlink_"+$INFO.eid+"_"+$INFO.sid})}e("#js-card-content, #basic-info, #lemma-main")}),$(function(){function e(e,t){params={cId:e+"",c:t===1?"view":"show"};try{monitor.log(params,"click")}catch(n){}}function t(t){t&&t.length&&t.each(function(){var t=$(this),n=t.attr("id");e(n)})}$("#enterprise").on("click",".show-btn",function(){var e=$(this);e.hasClass("up")?e.removeClass("up").find("span").text("\u5c55\u5f00").end().closest("table").find(".s-h-line").hide():e.addClass("up").find("span").text("\u6536\u8d77").end().closest("table").find(".s-h-line").show()}).on("click",".more-btn",function(e){var t=$(this);e.preventDefault(),t.hasClass("all")?t.removeClass("all").text("\u5c55\u5f00").closest("td").find(".short-info").show().end().find(".all-info").hide():t.addClass("all").text("\u6536\u8d77").closest("td").find(".short-info").hide().end().find(".all-info").show()}),t($("#enterprise"))}),$(function(){function s(e){var t=e[i],n;return t?(t.length>3&&(t.length=3),t[0].type==0?n="\u660e\u661f\u89c6\u9891":t[0].type==1&&(n="\u770b\u61c2\u89c6\u754c"),{list:t,title:n,type:t[0].type}):!1}function o(e){var n={channelId:"huikan_baike",businessId:"baike",sn:e.sn,type:"replay",autoplay:!0},i={menu:"false",allowfullscreen:"true",bgcolor:"#000000",wmode:"window",allowScriptAccess:"always"},s={id:e.id,name:e.id};swfobject.embedSWF("http://s2.qhimg.com/static/42d58919dc63af07/player.swf",e.id,"100%","100%","9.0.115",null,n,i,s),swfobject.addDomLoadEvent(function(){r.hide()}),onPlayerEvent=function(e){switch(e){case"playstop":t.find(".video-player-close").trigger("click")}}}var e=$("#starVideo"),t=$("#video-player"),n=$(".video-player-mask"),r=$(".video-player-icon"),i=window.$INFO.sid;if(!e.length)return!1;$.net.add("starVideo","/cms/json/video/starvideo.json"),$.net.connect("starVideo",function(t){var n;if(!(n=s(t)))return!1;e.show(),$.getScript("http://s7.qhimg.com/static/f7a44b2b1708c1f4/swfobject2.3.js").done(function(){$.getTmpl("/resource/other/template/starVideo.html").done(function(){$("#starVideo-tmpl").tmpl(n).appendTo(e)})})}),$("#starVideo").on("click",".starVideo-item-a",function(){var e=$(this).data("sn");return t.removeClass("video-player-hide").addClass("video-player-show"),Baike.Timer.delay("starVideo111",1e3,function(){o({sn:e,id:"video-player-object"})}),n.show(),!1}),$("#video-player").on("click",".video-player-close",function(){return $(".video-player").removeClass("video-player-show").addClass("video-player-hide"),Baike.Timer.delay("starVideo111",300,function(){n.hide(),r.show(),$("#video-player").removeClass("video-player-hide"),$("#video-player-object").replaceWith("<div id='video-player-object'></div>")}),!1})});